<!DOCTYPE html>
<html>
<head>
    <title>tutorial</title>
    <script type='text/javascript' src='http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.0.min.js'></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.0/js.cookie.min.js"></script>
    <script type="text/javascript" src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <script type="text/javascript" src="/javascripts/webRTCAdapter.js"></script>
</head>
<body>
<h1>tutorial</h1>

<script>
    //The following codes tells you how to initialize room id and user token

    var roomId = window.location.pathname.split('/')[2];//get the roomid from url pathname
    console.log(roomId);

    var token = Cookies.get('token');//get token from cookies
    console.log(token);


    $.post('/api/tutorial/createroom', function(data){
        console.log(data);
    });
    $.post('/api/tutorial/roomparams', {roomId:<%= roomId %>}, function(data){
        console.log(data);
    });
</script>

<!-- Web RTC Video Position -->

<h1>Local 1</h1>
<video id="localAudio" autoplay ></video>

<h1>Remote 1</h1>
<video id="remoteAudio0" autoplay ></video>

<h1>Remote 2</h1>
<video id="remoteAudio1" autoplay ></video>

<div>
    <button id="startButton">Start</button>
    <button id="joinButton">Join</button>
    <button id="hangupButton">Hang Up</button>
</div>

<script type="application/javascript">
    var socket = io.connect("<%='https://' + ip + ':'+ port + '/room' %>");
</script>
<script type="application/javascript" src="/javascripts/webRTC.js"></script>

<!-- End of WebRTC Video -->

</body>
</html>
